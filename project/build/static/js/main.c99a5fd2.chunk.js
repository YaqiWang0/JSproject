(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,i){e.exports=i(17)},16:function(e,t,i){},17:function(e,t,i){"use strict";i.r(t);var n=i(0),s=i.n(n),a=i(4),r=i.n(a),c=(i(16),i(5)),l=i(6),d=i(9),o=i(7),u=i(1),p=i(8),m=(i(2),function(e){var t=e.recipe,i=e.selectRecipe;return s.a.createElement("li",null,s.a.createElement("div",{className:"recipe"},s.a.createElement("a",{href:"http://localhost:4000/detailRecipt?title={recipe.title}"},s.a.createElement("span",{className:"recipe-title","data-title":"{recipe.title}",onClick:function(e){return i(e,t)}},t.title))))}),h=function(e){var t=e.recipes,i=e.selectRecipe;return s.a.createElement("ul",{className:"recipe-list"},Object.values(t).map(function(e){return s.a.createElement(m,{recipe:e,selectRecipe:i})}))},f=function(e){var t=e.recipes,i=e.selectRecipe,n=e.tryAddRecipe;return s.a.createElement("div",{className:"recipes"},s.a.createElement(h,{recipes:t,selectRecipe:i}),s.a.createElement("a",{href:"http://localhost:4000/addForm"},s.a.createElement("button",{className:"open-add-screen",onClick:function(e){return n(e)}},"New Recipe")))},g=function(e){var t=e.targetRecipe,i=e.display;return s.a.createElement("div",{className:"recipe-detail",style:{display:i}},s.a.createElement("div",{className:"recipe-items"},s.a.createElement("p",{className:"recipe-detail-items-title"},"Title: "),t.title),s.a.createElement("div",{className:"recipe-items"},s.a.createElement("p",{className:"recipe-detail-items-title"},"Ingredients List: "),t.ingredientsList),s.a.createElement("div",{className:"recipe-items"},s.a.createElement("p",{className:"recipe-detail-items-title"},"Instruction: "),t.instructions))},v=function(e){var t=e.display,i=e.recipeToAdd,n=e.onChangeTitle,a=e.onChangeIngredients,r=e.onChangeInstructions,c=e.ifAddDisabled,l=e.AddRecipe;return s.a.createElement("div",{className:"add-frame",style:{display:t}},s.a.createElement("div",{className:"query-item"},s.a.createElement("div",{className:"query-title"},"Title"),s.a.createElement("input",{className:"title",value:i.title,onChange:function(e){return n(e)}})),s.a.createElement("div",{className:"query-item"},s.a.createElement("div",{className:"query-title"},"Ingredients"),s.a.createElement("input",{className:"ingredients",value:i.ingredientsList,onChange:function(e){return a(e)}})),s.a.createElement("div",{className:"query-item"},s.a.createElement("div",{className:"query-title"},"Instructions"),s.a.createElement("input",{className:"instructions",value:i.instructions,onChange:function(e){return r(e)}})),s.a.createElement("button",{className:"to-add",disabled:c,onClick:function(e){return l(e)}},"Add"))},y=function(e){var t=e.status;return s.a.createElement("div",{className:"add-status"},t)},b=function(){return fetch("/recipeList/").catch(function(e){return Promise.reject({error:"network-error",message:"network issue"})}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})},E=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(d.a)(this,Object(o.a)(t).call(this))).state={errors:{"network-error":"Error talking to network","need-title":"Title is required","title-exists":"Recipe already exists","need-ingredient":"Ingredients is required","need-instructions":"Instructions is required",default:"Unknown error"},ifAddRecipeDisplay:"none",ifRecipeDetailDisplay:"none",targetRecipe:{title:"q",ingredientsList:"q",instructions:"q"},ifTitleDisabled:!0,ifIngredientDisabled:!0,ifInstructionsDisabled:!0,recipes:{},titleToAdd:"",ingredientsListToAdd:"",instructionsToAdd:"",statusField:""},b().then(function(t){e.setState({recipes:t})}).catch(function(t){e.setState({statusField:t.message||e.state.errors.default})}),e.selectRecipe=e.selectRecipe.bind(Object(u.a)(e)),e.tryAddRecipe=e.tryAddRecipe.bind(Object(u.a)(e)),e.onChangeTitle=e.onChangeTitle.bind(Object(u.a)(e)),e.onChangeIngredients=e.onChangeIngredients.bind(Object(u.a)(e)),e.onChangeInstructions=e.onChangeInstructions.bind(Object(u.a)(e)),e.addRecipe=e.addRecipe.bind(Object(u.a)(e)),e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.timer=setInterval(function(){var e=this;b().then(function(t){var i=e.state.statusField;"network issue"===e.state.statusField&&(i=""),e.setState({recipes:t,statusField:i})}).catch(function(t){e.setState({statusField:t.message||e.state.errors.default})})}.bind(this),5e3)}},{key:"selectRecipe",value:function(e,t){e.preventDefault(),this.setState({targetRecipe:t,ifRecipeDetailDisplay:"flex",statusField:""})}},{key:"tryAddRecipe",value:function(e){e.preventDefault(),this.setState({ifAddRecipeDisplay:"flex"})}},{key:"onChangeTitle",value:function(e){var t=""===e.target.value;this.setState({titleToAdd:e.target.value,statusField:"",ifTitleDisabled:t})}},{key:"onChangeIngredients",value:function(e){var t=""===e.target.value;this.setState({ingredientsListToAdd:e.target.value,statusField:"",ifIngredientDisabled:t})}},{key:"onChangeInstructions",value:function(e){var t=""===e.target.value;this.setState({instructionsToAdd:e.target.value,statusField:"",ifInstructionsDisabled:t})}},{key:"addRecipe",value:function(e){var t=this;e.preventDefault();var i,n=this.state.recipes;(i={title:this.state.titleToAdd,ingredientsList:this.state.ingredientsListToAdd,instructions:this.state.instructionsToAdd},fetch("/addRecipts/",{method:"POST",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify(i)}).catch(function(e){return Promise.reject({error:"service-error",err:e})})).then(function(e){return e.ok?(n[t.state.titleToAdd]={title:t.state.titleToAdd,ingredientsList:t.state.ingredientsListToAdd,instructions:t.state.instructionsToAdd},void t.setState({recipes:n,titleToAdd:"",ingredientsListToAdd:"",instructionsToAdd:"",ifTitleDisabled:!0,ifIngredientDisabled:!0,ifInstructionsDisabled:!0,ifAddRecipeDisplay:"none"})):Promise.reject({error:"service-complaint",err:e.statusText})}).catch(function(e){t.setState({statusField:e.error||t.state.errors.default})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"frame"},s.a.createElement("h1",{className:"whole-title"},"Recipes Website"),s.a.createElement("div",{className:"recipe-frame"},s.a.createElement(f,{recipes:this.state.recipes,selectRecipe:this.selectRecipe,tryAddRecipe:this.tryAddRecipe}),s.a.createElement(g,{display:this.state.ifRecipeDetailDisplay,targetRecipe:this.state.targetRecipe})),s.a.createElement(v,{display:this.state.ifAddRecipeDisplay,recipeToAdd:{title:this.state.titleToAdd,ingredientsList:this.state.ingredientsListToAdd,instructions:this.state.instructionsToAdd},onChangeTitle:this.onChangeTitle,onChangeIngredients:this.onChangeIngredients,onChangeInstructions:this.onChangeInstructions,ifAddDisabled:this.state.ifIngredientDisabled||this.state.ifInstructionsDisabled||this.state.ifTitleDisabled,AddRecipe:this.addRecipe}),s.a.createElement(y,{status:this.state.statusField}))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},2:function(e,t,i){}},[[10,1,2]]]);
//# sourceMappingURL=main.c99a5fd2.chunk.js.map